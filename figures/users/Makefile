# userstats-bridge-transport-multi.csv,
# userstats-bridge-combined-multi.csv, and
# bandwidth-multi.csv are generated by the scripts at
# https://gitlab.torproject.org/dcf/snowflake-graphs

all: \
	users-global.pdf \
	users-ru.pdf \
	users-ir.pdf \
	users-tm.pdf
.PHONY: all

users-global.pdf: .EXTRA_PREREQS = users-global.r ../common.r
users-global.pdf: userstats-bridge-transport-multi.csv bandwidth-multi.csv
	Rscript users-global.r $^ "$@"

users-ru.pdf \
users-ir.pdf \
users-tm.pdf \
: .EXTRA_PREREQS = users-country.r ../common.r
users-ru.pdf \
users-ir.pdf \
users-tm.pdf \
&: userstats-bridge-combined-multi.csv
	Rscript users-country.r "$<"

.DELETE_ON_ERROR:
